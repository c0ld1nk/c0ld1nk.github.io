<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Sherlock on 遥乡书屋</title>
    <link>https://c0ld1nk.github.io/docs/htb/sherlock/</link>
    <description>Recent content in Sherlock on 遥乡书屋</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <lastBuildDate>Fri, 30 May 2025 20:22:29 +0800</lastBuildDate>
    <atom:link href="https://c0ld1nk.github.io/docs/htb/sherlock/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Origins</title>
      <link>https://c0ld1nk.github.io/docs/htb/sherlock/origins/</link>
      <pubDate>Fri, 30 May 2025 20:22:29 +0800</pubDate>
      <guid>https://c0ld1nk.github.io/docs/htb/sherlock/origins/</guid>
      <description>&lt;p&gt;解压密码为hacktheblue&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Forela 公司近期发生了一起重大安全事件。攻击者从其内部 S3 存储桶中窃取了约 20GB 数据，并正对该公司实施勒索。在根源分析过程中，一台 FTP 服务器被怀疑是攻击源头。调查发现该服务器同样遭到入侵，部分数据被窃取，进而导致整个网络环境遭受进一步渗透。现提供一份最小化的 PCAP 数据包文件，您的任务是寻找暴力破解和数据外泄的证据。&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h1 id=&#34;task1&#34;&gt;Task1 &lt;a href=&#34;#task1&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;攻击者的 IP 地址是什么？&#xA;15.206.185.207&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;先过滤ftp协议&lt;/p&gt;&#xA;&lt;p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;  &#xA;    &lt;img src=&#34;https://gitee.com/inklong/blog-pic/raw/master/HTB/Origins-1.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&#xA;  &#xA;&lt;/p&gt;&#xA;&lt;p&gt;发现就两个ip，一个内网一个公网，答案就是公网的ip&lt;/p&gt;&#xA;&lt;h1 id=&#34;task2&#34;&gt;Task2 &lt;a href=&#34;#task2&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;获取更多关于攻击者的信息至关重要，即使准确性不高。利用攻击者所用 IP 地址的地理定位数据，他们来自哪个城市？&#xA;Mumbai&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;查询上一题的ip&lt;/p&gt;&#xA;&lt;p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;  &#xA;    &lt;img src=&#34;https://gitee.com/inklong/blog-pic/raw/master/HTB/Origins-2.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&#xA;  &#xA;&lt;/p&gt;&#xA;&lt;h1 id=&#34;task3&#34;&gt;Task3 &lt;a href=&#34;#task3&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;备份服务器使用了哪种 FTP 应用程序？请输入完整名称及版本号。（格式：名称 版本）&#xA;vsFTPd 3.0.5&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;前几个数据包就能看见&lt;/p&gt;&#xA;&lt;p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;  &#xA;    &lt;img src=&#34;https://gitee.com/inklong/blog-pic/raw/master/HTB/Origins-3.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&#xA;  &#xA;&lt;/p&gt;&#xA;&lt;h1 id=&#34;task4&#34;&gt;Task4 &lt;a href=&#34;#task4&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;攻击者已对服务器发起暴力破解攻击。这次攻击是何时开始的？&#xA;2024-05-03 04:12:54&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;很明显的爆破行为，前几个都是一个时间，点卡查看时间转化为UTC即可&lt;/p&gt;&#xA;&lt;p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;  &#xA;    &lt;img src=&#34;https://gitee.com/inklong/blog-pic/raw/master/HTB/Origins-4.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&#xA;  &#xA;&lt;/p&gt;&#xA;&lt;h1 id=&#34;task5&#34;&gt;Task5 &lt;a href=&#34;#task5&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;攻击者用于获取访问权限的正确凭证是什么？（格式：用户名:密码）&#xA;forela-ftp:ftprocks69$&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;一直翻数据包，找到有&lt;code&gt;Login successful&lt;/code&gt;的&#xA;追踪这个数据包就能找到&lt;/p&gt;&#xA;&lt;p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;  &#xA;    &lt;img src=&#34;https://gitee.com/inklong/blog-pic/raw/master/HTB/Origins-5.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&#xA;  &#xA;&lt;/p&gt;&#xA;&lt;h1 id=&#34;task6&#34;&gt;Task6 &lt;a href=&#34;#task6&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;攻击者从服务器窃取了文件。用于下载远程文件的 FTP 命令是什么？&#xA;RETR&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;462号数据包开始&lt;/p&gt;&#xA;&lt;p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;  &#xA;    &lt;img src=&#34;https://gitee.com/inklong/blog-pic/raw/master/HTB/Origins-6.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&#xA;  &#xA;&lt;/p&gt;&#xA;&lt;p&gt;以二进制模式开始传输数据，下面的FTPdata就是传输的文件&lt;/p&gt;&#xA;&lt;h1 id=&#34;task7&#34;&gt;Task7 &lt;a href=&#34;#task7&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;攻击者成功获取了备份 SSH 服务器的凭证。该 SSH 服务器的密码是什么？&#xA;**B@ckup2024!**&lt;/p&gt;</description>
    </item>
    <item>
      <title>Brutus</title>
      <link>https://c0ld1nk.github.io/docs/htb/sherlock/brutus/</link>
      <pubDate>Fri, 30 May 2025 10:51:07 +0800</pubDate>
      <guid>https://c0ld1nk.github.io/docs/htb/sherlock/brutus/</guid>
      <description>&lt;p&gt;解压密码为hacktheblue&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;在这个非常简单的 Sherlock 任务中，您将熟悉 Unix 系统的 auth.log 和 wtmp 日志。我们将探讨一个 Confluence 服务器通过 SSH 服务遭受暴力破解的场景。攻击者获取服务器访问权限后，还进行了其他活动，这些都可以通过 auth.log 追踪。尽管 auth.log 主要用于暴力破解分析，但在本次调查中，我们将深入挖掘这一日志的全部潜力，包括权限提升、持久化攻击的迹象，甚至部分命令执行的可见性。&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h1 id=&#34;task1&#34;&gt;Task1 &lt;a href=&#34;#task1&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;分析 auth.log 日志。攻击者用于实施暴力破解攻击的 IP 地址是什么？&#xA;65.2.161.68&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;  &#xA;    &lt;img src=&#34;https://gitee.com/inklong/blog-pic/raw/master/images/20250530222308030.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&#xA;  &#xA;&lt;/p&gt;&#xA;&lt;h1 id=&#34;task2&#34;&gt;Task2 &lt;a href=&#34;#task2&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;识别攻击者手动登录服务器以执行其目标的时间戳。登录时间将与认证时间不同，可在 wtmp 记录中找到。&#xA;root&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;  &#xA;    &lt;img src=&#34;https://m1st0rybucket.oss-cn-beijing.aliyuncs.com/pic/Pasted%20image%2020250423141749.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&#xA;  &#xA;&lt;/p&gt;&#xA;&lt;h1 id=&#34;task3&#34;&gt;Task3 &lt;a href=&#34;#task3&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;识别攻击者手动登录服务器以执行其目标的时间戳。登录时间将与认证时间不同，可在 wtmp 记录中找到。&#xA;2024-03-06 06:32:45&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;分析wtmp文件即可&lt;/p&gt;&#xA;&lt;h1 id=&#34;task4&#34;&gt;Task4 &lt;a href=&#34;#task4&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;SSH 登录会话在登录时会被跟踪并分配一个会话编号。攻击者针对问题 2 中用户账户的会话被分配了哪个会话编号？&#xA;37&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;  &#xA;    &lt;img src=&#34;https://m1st0rybucket.oss-cn-beijing.aliyuncs.com/pic/Pasted%20image%2020250423141749.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&#xA;  &#xA;&lt;/p&gt;&#xA;&lt;h1 id=&#34;task5&#34;&gt;Task5 &lt;a href=&#34;#task5&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;攻击者在服务器上添加了一个新用户作为其持久化策略的一部分，并赋予该新用户账户更高的权限。这个账户的名称是什么？&#xA;cyberjunkie&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;  &#xA;    &lt;img src=&#34;https://m1st0rybucket.oss-cn-beijing.aliyuncs.com/pic/Pasted%20image%2020250423143634.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&#xA;  &#xA;&lt;/p&gt;&#xA;&lt;h1 id=&#34;task6&#34;&gt;Task6 &lt;a href=&#34;#task6&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h1&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;用于通过创建新账户实现持久化的 MITRE ATT&amp;amp;CK 子技术 ID 是什么？&#xA;T1136.001&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
